<div role="navigation" aria-label="breadcrumbs navigation">  
  <ul class="wy-breadcrumbs grv-nav-versions"> </ul>                      
  <script type="text/javascript">

    $(function(){               
        window.docVersions = window.docVersions || [];
        var grvCurrentVer = "{{ config.extra.version }}"                    
        
        function getVerUrl(ver){
            return window.location.href.replace(grvCurrentVer, ver)            
        }
                        
        var $ul = $(".grv-nav-versions");

        $ul.append("<li>Version&nbsp;</li>");
                            
        if(docVersions.length === 0){
            $ul.append('<li class="grv-current-ver"> ' + grvCurrentVer + '</li>');            
        }

        // show links to other versions
        for(var i = 0; i < docVersions.length; i++){
            var ver = docVersions[i];                        
            var $li = null;
            if(ver === grvCurrentVer){
                $li = $('<li class="grv-current-ver"> ' + ver + '</li>');
            }else{
                var baseUrl = getVerUrl(ver);
                $li = $('<li class="grv-ver"> <a href="' +baseUrl+'"> ' + ver + '</a></li>');
            }

            $ul.append($li);
        }

        // add link to about us and insert a line separator
        $ul.append('<li class="wy-breadcrumbs-aside"> <a href="http://gravitational.com">About Us</a>  </li>');
        $ul.append('<hr/>');   
          
        // show warning if older version
        var isLatest = docVersions.length === 0 || grvCurrentVer === docVersions[docVersions.length-1];
        if(!isLatest){
            var latestVerUrl = getVerUrl(docVersions[docVersions.length-1]);
            $ul.append(`
                <div class="admonition warning" style="margin-bottom: 5px;">
                <p class="admonition-title">Version Warning</p>
                <p>This chapter covers Teleport ${grvCurrentVer}. We highly recommend evaluating
                the <a href="${latestVerUrl}">latest</a> version instead.</p>
                </div>
            `);
        }                
    });
       
   </script>
</div>
